<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>REST API | The Qt 6 Book</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A book about QML">
    
    <link rel="preload" href="/assets/css/0.styles.92ea4280.css" as="style"><link rel="preload" href="/assets/js/app.85861ea8.js" as="script"><link rel="preload" href="/assets/js/2.26c961b2.js" as="script"><link rel="preload" href="/assets/js/102.8e83581a.js" as="script"><link rel="prefetch" href="/assets/js/10.4395bd95.js"><link rel="prefetch" href="/assets/js/100.fa302cac.js"><link rel="prefetch" href="/assets/js/101.8d466e46.js"><link rel="prefetch" href="/assets/js/103.a82c478d.js"><link rel="prefetch" href="/assets/js/104.28055030.js"><link rel="prefetch" href="/assets/js/105.f0d68af0.js"><link rel="prefetch" href="/assets/js/106.bb60723a.js"><link rel="prefetch" href="/assets/js/107.7d45025a.js"><link rel="prefetch" href="/assets/js/108.0ed7a1f6.js"><link rel="prefetch" href="/assets/js/109.8946b3a4.js"><link rel="prefetch" href="/assets/js/11.b85f8031.js"><link rel="prefetch" href="/assets/js/110.11bd09cb.js"><link rel="prefetch" href="/assets/js/111.71acb487.js"><link rel="prefetch" href="/assets/js/112.fcf7de4a.js"><link rel="prefetch" href="/assets/js/113.2c5c65d1.js"><link rel="prefetch" href="/assets/js/114.d0eb4c04.js"><link rel="prefetch" href="/assets/js/115.760f698b.js"><link rel="prefetch" href="/assets/js/116.d3e7387b.js"><link rel="prefetch" href="/assets/js/117.1b1a7a03.js"><link rel="prefetch" href="/assets/js/118.e2bdad72.js"><link rel="prefetch" href="/assets/js/119.2e2f773b.js"><link rel="prefetch" href="/assets/js/12.83c6e34c.js"><link rel="prefetch" href="/assets/js/120.35cbc8cf.js"><link rel="prefetch" href="/assets/js/121.3671b29f.js"><link rel="prefetch" href="/assets/js/122.d462ba81.js"><link rel="prefetch" href="/assets/js/123.68da5c9a.js"><link rel="prefetch" href="/assets/js/124.0476127d.js"><link rel="prefetch" href="/assets/js/125.05527bc4.js"><link rel="prefetch" href="/assets/js/126.da700bd1.js"><link rel="prefetch" href="/assets/js/127.bba7328d.js"><link rel="prefetch" href="/assets/js/128.d06333ea.js"><link rel="prefetch" href="/assets/js/129.77aee385.js"><link rel="prefetch" href="/assets/js/13.b44307e8.js"><link rel="prefetch" href="/assets/js/130.b7e1846a.js"><link rel="prefetch" href="/assets/js/131.df7ded7d.js"><link rel="prefetch" href="/assets/js/132.eaa7412d.js"><link rel="prefetch" href="/assets/js/14.4daf5b31.js"><link rel="prefetch" href="/assets/js/15.8dfe57f5.js"><link rel="prefetch" href="/assets/js/16.ae047bb1.js"><link rel="prefetch" href="/assets/js/17.97cb1999.js"><link rel="prefetch" href="/assets/js/18.09368857.js"><link rel="prefetch" href="/assets/js/19.fd59ff42.js"><link rel="prefetch" href="/assets/js/20.6398077d.js"><link rel="prefetch" href="/assets/js/21.6a05a693.js"><link rel="prefetch" href="/assets/js/22.947a34c5.js"><link rel="prefetch" href="/assets/js/23.c793e061.js"><link rel="prefetch" href="/assets/js/24.d60c1260.js"><link rel="prefetch" href="/assets/js/25.f5cfb5dd.js"><link rel="prefetch" href="/assets/js/26.cdd6b54d.js"><link rel="prefetch" href="/assets/js/27.2e40b24c.js"><link rel="prefetch" href="/assets/js/28.a44092e5.js"><link rel="prefetch" href="/assets/js/29.0b58d719.js"><link rel="prefetch" href="/assets/js/3.15609819.js"><link rel="prefetch" href="/assets/js/30.13230c3d.js"><link rel="prefetch" href="/assets/js/31.02bb2aa2.js"><link rel="prefetch" href="/assets/js/32.900bae89.js"><link rel="prefetch" href="/assets/js/33.809d8313.js"><link rel="prefetch" href="/assets/js/34.b22e38fe.js"><link rel="prefetch" href="/assets/js/35.e0175be4.js"><link rel="prefetch" href="/assets/js/36.5df92709.js"><link rel="prefetch" href="/assets/js/37.2a36790b.js"><link rel="prefetch" href="/assets/js/38.7f2d9d42.js"><link rel="prefetch" href="/assets/js/39.2150f302.js"><link rel="prefetch" href="/assets/js/4.abbcf459.js"><link rel="prefetch" href="/assets/js/40.418ab892.js"><link rel="prefetch" href="/assets/js/41.8613e33c.js"><link rel="prefetch" href="/assets/js/42.fd4fbf33.js"><link rel="prefetch" href="/assets/js/43.a1d7c212.js"><link rel="prefetch" href="/assets/js/44.6668e30e.js"><link rel="prefetch" href="/assets/js/45.afe197bb.js"><link rel="prefetch" href="/assets/js/46.746cdebe.js"><link rel="prefetch" href="/assets/js/47.be6ca186.js"><link rel="prefetch" href="/assets/js/48.2f55198b.js"><link rel="prefetch" href="/assets/js/49.8cd15ae8.js"><link rel="prefetch" href="/assets/js/5.3e69f88a.js"><link rel="prefetch" href="/assets/js/50.dbabd303.js"><link rel="prefetch" href="/assets/js/51.d8b5ec87.js"><link rel="prefetch" href="/assets/js/52.12f7375a.js"><link rel="prefetch" href="/assets/js/53.eed8ca8f.js"><link rel="prefetch" href="/assets/js/54.c4d75775.js"><link rel="prefetch" href="/assets/js/55.b1783490.js"><link rel="prefetch" href="/assets/js/56.5901bd6c.js"><link rel="prefetch" href="/assets/js/57.95985066.js"><link rel="prefetch" href="/assets/js/58.d098dc2b.js"><link rel="prefetch" href="/assets/js/59.f534f5f5.js"><link rel="prefetch" href="/assets/js/6.599da621.js"><link rel="prefetch" href="/assets/js/60.0398dfb7.js"><link rel="prefetch" href="/assets/js/61.56fd70e0.js"><link rel="prefetch" href="/assets/js/62.b84b32ba.js"><link rel="prefetch" href="/assets/js/63.c521b8ab.js"><link rel="prefetch" href="/assets/js/64.2bf1e6e2.js"><link rel="prefetch" href="/assets/js/65.0a769062.js"><link rel="prefetch" href="/assets/js/66.a7c4130c.js"><link rel="prefetch" href="/assets/js/67.df2ba082.js"><link rel="prefetch" href="/assets/js/68.8a6223f5.js"><link rel="prefetch" href="/assets/js/69.216e47e2.js"><link rel="prefetch" href="/assets/js/7.4b835f9d.js"><link rel="prefetch" href="/assets/js/70.63f79832.js"><link rel="prefetch" href="/assets/js/71.f5bdf6b7.js"><link rel="prefetch" href="/assets/js/72.a8cf8fb8.js"><link rel="prefetch" href="/assets/js/73.3538ebde.js"><link rel="prefetch" href="/assets/js/74.63b1b93e.js"><link rel="prefetch" href="/assets/js/75.4d0beaa9.js"><link rel="prefetch" href="/assets/js/76.7d3c932a.js"><link rel="prefetch" href="/assets/js/77.90fe8238.js"><link rel="prefetch" href="/assets/js/78.94404738.js"><link rel="prefetch" href="/assets/js/79.ee568c52.js"><link rel="prefetch" href="/assets/js/8.e9c62eff.js"><link rel="prefetch" href="/assets/js/80.e200eac0.js"><link rel="prefetch" href="/assets/js/81.634d249d.js"><link rel="prefetch" href="/assets/js/82.484db6b7.js"><link rel="prefetch" href="/assets/js/83.6154fd3d.js"><link rel="prefetch" href="/assets/js/84.24b8d4cb.js"><link rel="prefetch" href="/assets/js/85.6c107d50.js"><link rel="prefetch" href="/assets/js/86.f87351fc.js"><link rel="prefetch" href="/assets/js/87.a87dddc8.js"><link rel="prefetch" href="/assets/js/88.155ec451.js"><link rel="prefetch" href="/assets/js/89.64bcf5e9.js"><link rel="prefetch" href="/assets/js/9.fc273458.js"><link rel="prefetch" href="/assets/js/90.19f96ff1.js"><link rel="prefetch" href="/assets/js/91.6124d2ee.js"><link rel="prefetch" href="/assets/js/92.e625e357.js"><link rel="prefetch" href="/assets/js/93.a66de41e.js"><link rel="prefetch" href="/assets/js/94.56f157b5.js"><link rel="prefetch" href="/assets/js/95.9677e971.js"><link rel="prefetch" href="/assets/js/96.c4114f1e.js"><link rel="prefetch" href="/assets/js/97.d64a40ed.js"><link rel="prefetch" href="/assets/js/98.c46e9482.js"><link rel="prefetch" href="/assets/js/99.c23f6710.js">
    <link rel="stylesheet" href="/assets/css/0.styles.92ea4280.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">The Qt 6 Book</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/qmlbook/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/qmlbook/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/preface/preface" class="sidebar-heading clickable"><span>Preface</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/preface/preface.html" class="sidebar-link">Welcome!</a></li><li><a href="/preface/acknowledgements.html" class="sidebar-link">Acknowledgements</a></li><li><a href="/preface/authors.html" class="sidebar-link">Authors</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch01-meetqt/meet-qt" class="sidebar-heading clickable"><span>Meet Qt</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch01-meetqt/meet-qt.html" class="sidebar-link">Qt and Qt Quick</a></li><li><a href="/ch01-meetqt/blocks.html" class="sidebar-link">Qt Building Blocks</a></li><li><a href="/ch01-meetqt/intro.html" class="sidebar-link">Qt 6 Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch02-start/quick-start" class="sidebar-heading clickable"><span>Getting Started</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch02-start/quick-start.html" class="sidebar-link">Quick Start</a></li><li><a href="/ch02-start/install.html" class="sidebar-link">Installing Qt 6 SDK</a></li><li><a href="/ch02-start/hello-world.html" class="sidebar-link">Hello World</a></li><li><a href="/ch02-start/app-types.html" class="sidebar-link">Application Types</a></li><li><a href="/ch02-start/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch03-qtcreator/qt-creator" class="sidebar-heading clickable"><span>Qt Creator IDE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch03-qtcreator/qt-creator.html" class="sidebar-link">Qt Creator IDE</a></li><li><a href="/ch03-qtcreator/user-interface.html" class="sidebar-link">The User Interface</a></li><li><a href="/ch03-qtcreator/kit-registry.html" class="sidebar-link">Registering your Qt Kit</a></li><li><a href="/ch03-qtcreator/projects.html" class="sidebar-link">Managing Projects</a></li><li><a href="/ch03-qtcreator/editor.html" class="sidebar-link">Using the Editor</a></li><li><a href="/ch03-qtcreator/locator.html" class="sidebar-link">Locator</a></li><li><a href="/ch03-qtcreator/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/ch03-qtcreator/shortcuts.html" class="sidebar-link">Shortcuts</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch04-qmlstart/quick-start" class="sidebar-heading clickable"><span>Quick Starter</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch04-qmlstart/quick-start.html" class="sidebar-link">Quick Starter</a></li><li><a href="/ch04-qmlstart/qml-syntax.html" class="sidebar-link">QML Syntax</a></li><li><a href="/ch04-qmlstart/core-elements.html" class="sidebar-link">Core Elements</a></li><li><a href="/ch04-qmlstart/components.html" class="sidebar-link">Components</a></li><li><a href="/ch04-qmlstart/transformations.html" class="sidebar-link">Simple Transformations</a></li><li><a href="/ch04-qmlstart/positioning.html" class="sidebar-link">Positioning Elements</a></li><li><a href="/ch04-qmlstart/layout.html" class="sidebar-link">Layout Items</a></li><li><a href="/ch04-qmlstart/input.html" class="sidebar-link">Input Elements</a></li><li><a href="/ch04-qmlstart/advanced.html" class="sidebar-link">Advanced Techniques</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch05-fluid/fluid-elements" class="sidebar-heading clickable"><span>Fluid Elements</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch05-fluid/fluid-elements.html" class="sidebar-link">Fluid Elements</a></li><li><a href="/ch05-fluid/animations.html" class="sidebar-link">Animations</a></li><li><a href="/ch05-fluid/states-transitions.html" class="sidebar-link">States and Transitions</a></li><li><a href="/ch05-fluid/advanced.html" class="sidebar-link">Advanced Techniques</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch06-controls/controls2" class="sidebar-heading clickable"><span>QtQuick Controls</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch06-controls/controls2.html" class="sidebar-link">UI Controls</a></li><li><a href="/ch06-controls/introduction.html" class="sidebar-link">Introduction to Controls</a></li><li><a href="/ch06-controls/image-viewer.html" class="sidebar-link">An Image Viewer</a></li><li><a href="/ch06-controls/common-patterns.html" class="sidebar-link">Common Patterns</a></li><li><a href="/ch06-controls/imagine-style.html" class="sidebar-link">The Imagine Style</a></li><li><a href="/ch06-controls/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch07-modelview/model-view" class="sidebar-heading clickable"><span>Model View</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch07-modelview/model-view.html" class="sidebar-link">Model-View-Delegate</a></li><li><a href="/ch07-modelview/concept.html" class="sidebar-link">Concept</a></li><li><a href="/ch07-modelview/basic-models.html" class="sidebar-link">Basic Models</a></li><li><a href="/ch07-modelview/dynamic-views.html" class="sidebar-link">Dynamic Views</a></li><li><a href="/ch07-modelview/delegate.html" class="sidebar-link">Delegate</a></li><li><a href="/ch07-modelview/advanced.html" class="sidebar-link">Advanced Techniques</a></li><li><a href="/ch07-modelview/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch08-canvas/canvas-element" class="sidebar-heading clickable"><span>Canvas</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch08-canvas/canvas-element.html" class="sidebar-link">Canvas Element</a></li><li><a href="/ch08-canvas/convenience-api.html" class="sidebar-link">Convenience API</a></li><li><a href="/ch08-canvas/gradients.html" class="sidebar-link">Gradients</a></li><li><a href="/ch08-canvas/shadows.html" class="sidebar-link">Shadows</a></li><li><a href="/ch08-canvas/images.html" class="sidebar-link">Images</a></li><li><a href="/ch08-canvas/transformation.html" class="sidebar-link">Transformation</a></li><li><a href="/ch08-canvas/composition-modes.html" class="sidebar-link">Composition Modes</a></li><li><a href="/ch08-canvas/pixel-buffer.html" class="sidebar-link">Pixel Buffers</a></li><li><a href="/ch08-canvas/canvas-paint.html" class="sidebar-link">Canvas Paint</a></li><li><a href="/ch08-canvas/port-from-html.html" class="sidebar-link">Porting from HTML5 Canvas</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch09-shapes/shapes" class="sidebar-heading clickable"><span>Shapes</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch09-shapes/shapes.html" class="sidebar-link">Shapes</a></li><li><a href="/ch09-shapes/basics.html" class="sidebar-link">A Basic Shape</a></li><li><a href="/ch09-shapes/paths.html" class="sidebar-link">Building Paths</a></li><li><a href="/ch09-shapes/gradients.html" class="sidebar-link">Filling Shapes</a></li><li><a href="/ch09-shapes/animations.html" class="sidebar-link">Animating Shapes</a></li><li><a href="/ch09-shapes/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch10-effects/effects" class="sidebar-heading clickable"><span>Effects</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch10-effects/effects.html" class="sidebar-link">Effects in QML</a></li><li><a href="/ch10-effects/particles.html" class="sidebar-link">Particle Concept</a></li><li><a href="/ch10-effects/simple-simulation.html" class="sidebar-link">Simple Simulation</a></li><li><a href="/ch10-effects/particle-parameters.html" class="sidebar-link">Particle Parameters</a></li><li><a href="/ch10-effects/directed-particles.html" class="sidebar-link">Directed Particles</a></li><li><a href="/ch10-effects/affecting-particles.html" class="sidebar-link">Affecting Particles</a></li><li><a href="/ch10-effects/particle-groups.html" class="sidebar-link">Particle Groups</a></li><li><a href="/ch10-effects/particle-painters.html" class="sidebar-link">Particle Painters</a></li><li><a href="/ch10-effects/opengl-shaders.html" class="sidebar-link">Graphics Shaders</a></li><li><a href="/ch10-effects/shader-elements.html" class="sidebar-link">Shader Elements</a></li><li><a href="/ch10-effects/fragment-shaders.html" class="sidebar-link">Fragment Shaders</a></li><li><a href="/ch10-effects/wave-effect.html" class="sidebar-link">Wave Effect</a></li><li><a href="/ch10-effects/vertex-shader.html" class="sidebar-link">Vertex Shader</a></li><li><a href="/ch10-effects/curtain-effect.html" class="sidebar-link">Curtain Effect</a></li><li><a href="/ch10-effects/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch11-multimedia/multimedia" class="sidebar-heading clickable"><span>Multimedia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch11-multimedia/multimedia.html" class="sidebar-link">Multimedia</a></li><li><a href="/ch11-multimedia/playing-media.html" class="sidebar-link">Playing Media</a></li><li><a href="/ch11-multimedia/sound-effects.html" class="sidebar-link">Sound Effects</a></li><li><a href="/ch11-multimedia/video-streams.html" class="sidebar-link">Video Streams</a></li><li><a href="/ch11-multimedia/capturing-images.html" class="sidebar-link">Capturing Images</a></li><li><a href="/ch11-multimedia/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch12-networking/networking" class="sidebar-heading clickable open"><span>Networking</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch12-networking/networking.html" class="sidebar-link">Networking</a></li><li><a href="/ch12-networking/serve-qml.html" class="sidebar-link">Serving UI via HTTP</a></li><li><a href="/ch12-networking/templates.html" class="sidebar-link">Templates</a></li><li><a href="/ch12-networking/http-requests.html" class="sidebar-link">HTTP Requests</a></li><li><a href="/ch12-networking/local-files.html" class="sidebar-link">Local files</a></li><li><a href="/ch12-networking/rest-api.html" aria-current="page" class="active sidebar-link">REST API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ch12-networking/rest-api.html#read-request" class="sidebar-link">Read Request</a></li><li class="sidebar-sub-header"><a href="/ch12-networking/rest-api.html#read-entry" class="sidebar-link">Read Entry</a></li><li class="sidebar-sub-header"><a href="/ch12-networking/rest-api.html#create-entry" class="sidebar-link">Create Entry</a></li><li class="sidebar-sub-header"><a href="/ch12-networking/rest-api.html#update-entry" class="sidebar-link">Update Entry</a></li><li class="sidebar-sub-header"><a href="/ch12-networking/rest-api.html#delete-entry" class="sidebar-link">Delete Entry</a></li><li class="sidebar-sub-header"><a href="/ch12-networking/rest-api.html#http-verbs" class="sidebar-link">HTTP Verbs</a></li><li class="sidebar-sub-header"><a href="/ch12-networking/rest-api.html#client-rest" class="sidebar-link">Client REST</a></li></ul></li><li><a href="/ch12-networking/authentication.html" class="sidebar-link">Authentication using OAuth</a></li><li><a href="/ch12-networking/web-sockets.html" class="sidebar-link">Web Sockets</a></li><li><a href="/ch12-networking/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch13-storage/storage" class="sidebar-heading clickable"><span>Storage</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch13-storage/storage.html" class="sidebar-link">Storage</a></li><li><a href="/ch13-storage/settings.html" class="sidebar-link">Settings</a></li><li><a href="/ch13-storage/local-storage.html" class="sidebar-link">Local Storage - SQL</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch14-dynamicqml/dynamic-qml" class="sidebar-heading clickable"><span>Dynamic QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch14-dynamicqml/dynamic-qml.html" class="sidebar-link">Dynamic QML</a></li><li><a href="/ch14-dynamicqml/loading-components.html" class="sidebar-link">Loading Components Dynamically</a></li><li><a href="/ch14-dynamicqml/dynamic-objects.html" class="sidebar-link">Creating and Destroying Objects</a></li><li><a href="/ch14-dynamicqml/tracking-objects.html" class="sidebar-link">Tracking Dynamic Objects</a></li><li><a href="/ch14-dynamicqml/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch15-javascript/javascript" class="sidebar-heading clickable"><span>Javascript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch15-javascript/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/ch15-javascript/html-qml.html" class="sidebar-link">Browser/HTML vs Qt Quick/QML</a></li><li><a href="/ch15-javascript/js-language.html" class="sidebar-link">JS Language</a></li><li><a href="/ch15-javascript/js-objects.html" class="sidebar-link">JS Objects</a></li><li><a href="/ch15-javascript/js-console.html" class="sidebar-link">Creating a JS Console</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch16-qtcpp/qtcpp" class="sidebar-heading clickable"><span>Qt C++</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch16-qtcpp/qtcpp.html" class="sidebar-link">Qt and C++</a></li><li><a href="/ch16-qtcpp/boilerplate.html" class="sidebar-link">A Boilerplate Application</a></li><li><a href="/ch16-qtcpp/qobject.html" class="sidebar-link">The QObject</a></li><li><a href="/ch16-qtcpp/build-system.html" class="sidebar-link">Build Systems</a></li><li><a href="/ch16-qtcpp/common-classes.html" class="sidebar-link">Common Qt Classes</a></li><li><a href="/ch16-qtcpp/cpp-models.html" class="sidebar-link">Models in C++</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch17-extensions/extending-qml" class="sidebar-heading clickable"><span>Extending QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch17-extensions/extending-qml.html" class="sidebar-link">Extending QML with C++</a></li><li><a href="/ch17-extensions/qml-runtime.html" class="sidebar-link">Understanding the QML Run-time</a></li><li><a href="/ch17-extensions/plugin-content.html" class="sidebar-link">Plugin Content</a></li><li><a href="/ch17-extensions/create-plugin.html" class="sidebar-link">Creating the plugin</a></li><li><a href="/ch17-extensions/fileio-demo.html" class="sidebar-link">FileIO Implementation</a></li><li><a href="/ch17-extensions/using-fileio.html" class="sidebar-link">Using FileIO</a></li><li><a href="/ch17-extensions/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch18-python/qt-python" class="sidebar-heading clickable"><span>Qt for Python</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch18-python/qt-python.html" class="sidebar-link">Qt for Python</a></li><li><a href="/ch18-python/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/ch18-python/installing.html" class="sidebar-link">Installing</a></li><li><a href="/ch18-python/build-app.html" class="sidebar-link">Building an Application</a></li><li><a href="/ch18-python/limitations.html" class="sidebar-link">Limitations</a></li><li><a href="/ch18-python/summary.html" class="sidebar-link">Summary</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rest-api"><a href="#rest-api" class="header-anchor">#</a> REST API</h1> <p>To use a web-service, we first need to create one. We will use Flask (<a href="https://flask.palletsprojects.com" target="_blank" rel="noopener noreferrer">https://flask.palletsprojects.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) a simple HTTP app server based on python to create a simple color web-service. You could also use every other web server which accepts and returns JSON data. The idea is to have a list of named colors, which can be managed via the web-service. Managed in this case means CRUD (create-read-update-delete).</p> <p>A simple web-service in Flask can be written in one file. We start with an empty <code>server.py</code> file. Inside this file, we create some boiler-code and load our initial colors from an external JSON file. See also the Flask <a href="https://flask.palletsprojects.com/en/2.0.x/quickstart/" target="_blank" rel="noopener noreferrer">quickstart<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> documentation.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> jsonify<span class="token punctuation">,</span> request
<span class="token keyword">import</span> json

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'colors.json'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    colors <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span></code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># Services registration &amp; implementation...</span>
</code></pre></div><div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>debug <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span></code></pre></div><p>When you run this script, it will provide a web-server at <a href="http://localhost:5000" target="_blank" rel="noopener noreferrer">http://localhost:5000<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which does not serve anything useful yet.</p> <p>We will now start adding our CRUD (Create,Read,Update,Delete) endpoints to our little web-service.</p> <h2 id="read-request"><a href="#read-request" class="header-anchor">#</a> Read Request</h2> <p>To read data from our web-server, we will provide a GET method for all colors.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/colors'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">get_colors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">&quot;data&quot;</span> <span class="token punctuation">:</span> colors <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p>This will return the colors under the ‘/colors’ endpoint. To test this we can use curl to create an HTTP request.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">curl</span> -i -GET http://localhost:5000/colors
</code></pre></div><p>Which will return us the list of colors as JSON data.</p> <h2 id="read-entry"><a href="#read-entry" class="header-anchor">#</a> Read Entry</h2> <p>To read an individual color by name we provide the details endpoint, which is located under <code>/colors/&lt;name&gt;</code>. The name is a parameter to the endpoint, which identifies an individual color.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/colors/&lt;name&gt;'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">get_color</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> color <span class="token keyword">in</span> colors<span class="token punctuation">:</span>
        <span class="token keyword">if</span> color<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">:</span>
            <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'error'</span> <span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p>And we can test it with using curl again. For example to get the red color entry.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">curl</span> -i -GET http://localhost:5000/colors/red
</code></pre></div><p>It will return one color entry as JSON data.</p> <h2 id="create-entry"><a href="#create-entry" class="header-anchor">#</a> Create Entry</h2> <p>Till now we have just used HTTP GET methods. To create an entry on the server side, we will use a POST method and pass the new color information with the POST data. The endpoint location is the same as to get all colors. But this time we expect a POST request.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/colors'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">create_color</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'create color'</span><span class="token punctuation">)</span>
    color <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span> request<span class="token punctuation">.</span>json<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'value'</span><span class="token punctuation">:</span> request<span class="token punctuation">.</span>json<span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    colors<span class="token punctuation">.</span>append<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">201</span></code></pre></div><p>Curl is flexible enough to allow us to provide JSON data as the new entry inside the POST request.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">curl</span> -i -H <span class="token string">&quot;Content-Type: application/json&quot;</span> -X POST -d <span class="token string">'{&quot;name&quot;:&quot;gray1&quot;,&quot;value&quot;:&quot;#333&quot;}'</span> http://localhost:5000/colors
</code></pre></div><h2 id="update-entry"><a href="#update-entry" class="header-anchor">#</a> Update Entry</h2> <p>To update an individual entry we use the PUT HTTP method. The endpoint is the same as to retrieve an individual color entry. When the color was updated successfully we return the updated color as JSON data.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/colors/&lt;name&gt;'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'PUT'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">update_color</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> color <span class="token keyword">in</span> colors<span class="token punctuation">:</span>
        <span class="token keyword">if</span> color<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">:</span>
            color<span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span> <span class="token operator">=</span> request<span class="token punctuation">.</span>json<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">,</span> color<span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'error'</span> <span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p>In the curl request, we only provide the values to be updated as JSON data and then a named endpoint to identify the color to be updated.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">curl</span> -i -H <span class="token string">&quot;Content-Type: application/json&quot;</span> -X PUT -d <span class="token string">'{&quot;value&quot;:&quot;#666&quot;}'</span> http://localhost:5000/colors/red
</code></pre></div><h2 id="delete-entry"><a href="#delete-entry" class="header-anchor">#</a> Delete Entry</h2> <p>Deleting an entry is done using the DELETE HTTP verb. It also uses the same endpoint for an individual color, but this time the DELETE HTTP verb.</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/colors/&lt;name&gt;'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'DELETE'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">delete_color</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> color <span class="token keyword">in</span> colors<span class="token punctuation">:</span>
        <span class="token keyword">if</span> color<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">:</span>
            colors<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
            <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token keyword">return</span> jsonify<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'error'</span> <span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p>This request looks similar to the GET request for an individual color.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">curl</span> -i -X DELETE http://localhost:5000/colors/red
</code></pre></div><h2 id="http-verbs"><a href="#http-verbs" class="header-anchor">#</a> HTTP Verbs</h2> <p>Now we can read all colors, read a specific color, create a new color, update a color and delete a color. Also, we know the HTTP endpoints to our API.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># Read All</span>
GET    http://localhost:5000/colors
<span class="token comment"># Create Entry</span>
POST   http://localhost:5000/colors
<span class="token comment"># Read Entry</span>
GET    http://localhost:5000/colors/<span class="token variable">${name}</span>
<span class="token comment"># Update Entry</span>
PUT    http://localhost:5000/colors/<span class="token variable">${name}</span>
<span class="token comment"># Delete Entry</span>
DELETE http://localhost:5000/colors/<span class="token variable">${name}</span>
</code></pre></div><p>Our little REST server is complete now and we can focus on QML and the client side. To create an easy to use API we need to map each action to an individual HTTP request and provide a simple API to our users.</p> <h2 id="client-rest"><a href="#client-rest" class="header-anchor">#</a> Client REST</h2> <p>To demonstrate a REST client we write a small color grid. The color grid displays the colors retrieved from the web-service via HTTP requests. Our user interface provides the following commands:</p> <ul><li>Get a color list</li> <li>Create color</li> <li>Read the last color</li> <li>Update last color</li> <li>Delete the last color</li></ul> <p>We bundle our API into an own JS file called <code>colorservice.js</code> and import it into our UI as <code>Service</code>. Inside the service module (<code>colorservice.js</code>), we create a helper function to make the HTTP requests for us:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">verb<span class="token punctuation">,</span> endpoint<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'request: '</span> <span class="token operator">+</span> verb <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token constant">BASE</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endpoint <span class="token operator">?</span> <span class="token string">'/'</span> <span class="token operator">+</span> endpoint <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'xhr: on ready state change: '</span> <span class="token operator">+</span> xhr<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">DONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token function">cb</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>verb<span class="token punctuation">,</span> <span class="token constant">BASE</span> <span class="token operator">+</span> <span class="token punctuation">(</span>endpoint <span class="token operator">?</span> <span class="token string">'/'</span> <span class="token operator">+</span> endpoint <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Accept'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> data <span class="token operator">=</span> obj <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div><p>It takes four arguments. The <code>verb</code>, which defines the HTTP verb to be used (GET, POST, PUT, DELETE). The second parameter is the endpoint to be used as a postfix to the BASE address (e.g. ‘<a href="http://localhost:5000/colors" target="_blank" rel="noopener noreferrer">http://localhost:5000/colors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>’). The third parameter is the optional obj, to be sent as JSON data to the service. The last parameter defines a callback to be called when the response returns. The callback receives a response object with the response data. Before we send the request, we indicate that we send and accept JSON data by modifying the request header.</p> <p>Using this request helper function we can implement the simple commands we defined earlier (create, read, update, delete). This code resides in the service implementation:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getColors</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// GET http://localhost:5000/colors</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createColor</span><span class="token punctuation">(</span><span class="token parameter">entry<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// POST http://localhost:5000/colors</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> entry<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// GET http://localhost:5000/colors/${name}</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">updateColor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> entry<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// PUT http://localhost:5000/colors/${name}</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> entry<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">deleteColor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// DELETE http://localhost:5000/colors/${name}</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div><p>In the UI we use the service to implement our commands. We have a <code>ListModel</code> with the id <code>gridModel</code> as a data provider for the <code>GridView</code>. The commands are indicated using a <code>Button</code> UI element.</p> <p>Importing our service library is pretty straightforward:</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> <span class="token string">&quot;colorservice.js&quot;</span> <span class="token keyword">as</span> Service</code></pre></div><p>Reading the color list from the server:</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'Read Colors'</span></span>
    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        Service.getColors(function(response) <span class="token punctuation">{</span>
            print('handle get colors response<span class="token punctuation">:</span> ' + JSON.stringify(response))
            gridModel.clear()
            const entries = response.data
            for(let i=0<span class="token punctuation">;</span> i&lt;entries.length<span class="token punctuation">;</span> i++) <span class="token punctuation">{</span>
                gridModel.append(entries<span class="token punctuation">[</span>i<span class="token punctuation">]</span>)
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>)
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>Create a new color entry on the server:</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'Create New'</span></span>
    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        const index = gridModel.count - 1
        const entry = <span class="token punctuation">{</span>
            <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'color-'</span> <span class="token operator">+</span> index<span class="token punctuation">,</span></span>
            <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Qt<span class="token punctuation">.</span><span class="token function">hsla</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
        <span class="token punctuation">}</span>
        Service.createColor(entry<span class="token punctuation">,</span> function(response) <span class="token punctuation">{</span>
            print('handle create color response<span class="token punctuation">:</span> ' + JSON.stringify(response))
            gridModel.append(response)
        <span class="token punctuation">}</span>)
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>Reading a color based on its name:</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'Read Last Color'</span></span>
    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        const index = gridModel.count - 1
        const name = gridModel.get(index).name
        Service.getColor(name<span class="token punctuation">,</span> function(response) <span class="token punctuation">{</span>
            print('handle get color response<span class="token punctuation">:</span>' + JSON.stringify(response))
            message.text = response.value
        <span class="token punctuation">}</span>)
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>Update a color entry on the server based on the color name:</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'Update Last Color'</span></span>
    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        const index = gridModel.count - 1
        const name = gridModel.get(index).name
        const entry = <span class="token punctuation">{</span>
            <span class="token property">value</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Qt<span class="token punctuation">.</span><span class="token function">hsla</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
        <span class="token punctuation">}</span>
        Service.updateColor(name<span class="token punctuation">,</span> entry<span class="token punctuation">,</span> function(response) <span class="token punctuation">{</span>
            print('handle update color response<span class="token punctuation">:</span> ' + JSON.stringify(response))
            gridModel.setProperty(gridModel.count - 1<span class="token punctuation">,</span> 'value'<span class="token punctuation">,</span> response.value)
        <span class="token punctuation">}</span>)
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>Delete a color by the color name:</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'Delete Last Color'</span></span>
    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> gridModel<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">const</span> name <span class="token operator">=</span> gridModel<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span>name
        Service<span class="token punctuation">.</span><span class="token function">deleteColor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        gridModel<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span></span>
<span class="token punctuation">}</span></code></pre></div><p>This concludes the CRUD (create, read, update, delete) operations using a REST API. There are also other possibilities to generate a Web-Service API. One could be module based and each module would have one endpoint. And the API could be defined using JSON RPC (<a href="http://www.jsonrpc.org/" target="_blank" rel="noopener noreferrer">http://www.jsonrpc.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>). Sure also XML based API is possible and but the JSON approach has great advantages as the parsing is built into the QML/JS as part of JavaScript.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/qmlbook/qt6book/edit/main/docs/ch12-networking/rest-api.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/18/2021, 11:20:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ch12-networking/local-files.html" class="prev">
        Local files
      </a></span> <span class="next"><a href="/ch12-networking/authentication.html">
        Authentication using OAuth
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.85861ea8.js" defer></script><script src="/assets/js/2.26c961b2.js" defer></script><script src="/assets/js/102.8e83581a.js" defer></script>
  </body>
</html>
