(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{473:function(t,a,s){t.exports=s.p+"assets/img/curtain.f8edb666.png"},474:function(t,a,s){t.exports=s.p+"assets/img/curtain_diagram.4f95037d.png"},598:function(t,a,s){"use strict";s.r(a);var e=s(24),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"curtain-effect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#curtain-effect"}},[t._v("#")]),t._v(" Curtain Effect")]),t._v(" "),e("p",[t._v("In the last example for custom shader effects, I would like to bring you the curtain effect. This effect was published first in May 2011 as part of "),e("a",{attrs:{href:"http://labs.qt.nokia.com/2011/05/03/qml-shadereffectitem-on-qgraphicsview/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Qt labs for shader effects"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[e("img",{attrs:{src:s(473),alt:"image"}})]),t._v(" "),e("p",[t._v("At that time I really loved these effects and the curtain effect was my favorite out of them. I just love how the curtain opens and hide the background object.")]),t._v(" "),e("p",[t._v("For this chapter, the effect has been adapted for Qt 6. It has also been slghtly simplifed to make it a better showcase.")]),t._v(" "),e("p",[t._v("The curtain image is called "),e("code",[t._v("fabric.png")]),t._v(". The effect then uses a vertex shader to swing the curtain forth and back and a fragment shader to apply shadows to show how the fabric folds.")]),t._v(" "),e("p",[t._v("The diagram below shows how the shader works. The waves are computed through a sin curve with 7 periods (7*PI=21.99â€¦). The other part is the swinging. The "),e("code",[t._v("topWidht")]),t._v(" of the curtain is animated when the curtain is opened or closed. The "),e("code",[t._v("bottomWidth")]),t._v(" follows the "),e("code",[t._v("topWidth")]),t._v(" using a "),e("code",[t._v("SpringAnimation")]),t._v(". This creates the effect of the bottom part of the curtain swinging freely. The calulated "),e("code",[t._v("swing")]),t._v(" component is the strengh of the swing based on the y-component of the vertexes.")]),t._v(" "),e("p",[e("img",{attrs:{src:s(474),alt:"image"}})]),t._v(" "),e("p",[t._v("The curtain effect is implemed in the "),e("code",[t._v("CurtainEffect.qml")]),t._v(" file where the fabric image act as the texture source. In the QML code, the "),e("code",[t._v("mesh")]),t._v(" property is adjusted to make sure that the number of vertixes is increased to give a smoother result.")]),t._v(" "),e("div",{staticClass:"language-qml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-qml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" QtQuick\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ShaderEffect")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("anchors.fill")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("parent")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("mesh")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GridMesh")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("resolution")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("Qt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("property")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("real")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("topWidth")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("open"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("width"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("property")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("real")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("bottomWidth")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("topWidth")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("property")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("real")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("amplitude")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("property")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("bool")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("open")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("property")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("variant")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("source")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("effectSource")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Behavior")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" bottomWidth "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringAnimation")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("easing.type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("Easing"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OutElastic")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("velocity")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("250")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("mass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.5")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("spring")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("damping")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.05")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Behavior")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" topWidth "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NumberAnimation")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("duration")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ShaderEffectSource")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("effectSource")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("sourceItem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("effectImage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("hideSource")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("effectImage")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("anchors.fill")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("parent")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("source")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../assets/fabric.png"')])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("fillMode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("Image"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Tile")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("vertexShader")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"curtain.vert.qsb"')])]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("fragmentShader")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"curtain.frag.qsb"')])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])])]),e("p",[t._v("The vertex shader, shown below, reshapes the curtain based on the "),e("code",[t._v("topWidth")]),t._v(" and "),e("code",[t._v("bottomWidth")]),t._v(" properies, extrapolating the shift based on the y-coordinate. It also calculates the "),e("code",[t._v("shade")]),t._v(" value, which is used in the fragment shader. The "),e("code",[t._v("shade")]),t._v(" property is passed through an additional output in "),e("code",[t._v("location")]),t._v(" 1.")]),t._v(" "),e("div",{staticClass:"language-vert extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("#version 440\n\nlayout(location=0) in vec4 qt_Vertex;\nlayout(location=1) in vec2 qt_MultiTexCoord0;\n\nlayout(location=0) out vec2 qt_TexCoord0;\nlayout(location=1) out float shade;\n\nlayout(std140, binding=0) uniform buf {\n    mat4 qt_Matrix;\n    float qt_Opacity;\n    \n    float topWidth;\n    float bottomWidth;\n    float width;\n    float height;\n    float amplitude;\n} ubuf;\n\nout gl_PerVertex { \n    vec4 gl_Position;\n};\n \nvoid main() {\n    qt_TexCoord0 = qt_MultiTexCoord0;\n\n    vec4 shift = vec4(0.0, 0.0, 0.0, 0.0);\n    float swing = (ubuf.topWidth - ubuf.bottomWidth) * (qt_Vertex.y / ubuf.height);\n    shift.x = qt_Vertex.x * (ubuf.width - ubuf.topWidth + swing) / ubuf.width;\n\n    shade = sin(21.9911486 * qt_Vertex.x / ubuf.width);\n    shift.y = ubuf.amplitude * (ubuf.width - ubuf.topWidth + swing) * shade;\n\n    gl_Position = ubuf.qt_Matrix * (qt_Vertex - shift);\n\n    shade = 0.2 * (2.0 - shade) * ((ubuf.width - ubuf.topWidth + swing) / ubuf.width);\n}")])])]),e("p",[t._v("In the fragment shader below, the "),e("code",[t._v("shade")]),t._v(" is picked up as an input in "),e("code",[t._v("location")]),t._v(" 1 and is then used to calculate the "),e("code",[t._v("fragColor")]),t._v(", which is used to draw the pixel in question.")]),t._v(" "),e("div",{staticClass:"language-frag extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("#version 440\n\nlayout(location=0) in vec2 qt_TexCoord0;\nlayout(location=1) in float shade;\n\nlayout(location=0) out vec4 fragColor;\n\nlayout(std140, binding=0) uniform buf {\n    mat4 qt_Matrix;\n    float qt_Opacity;\n    \n    float topWidth;\n    float bottomWidth;\n    float width;\n    float height;\n    float amplitude;\n} ubuf;\n\nlayout(binding=1) uniform sampler2D source;\n\nvoid main() {\n    highp vec4 color = texture(source, qt_TexCoord0);\n    color.rgb *= 1.0 - shade;\n    fragColor = color;\n}")])])]),e("p",[t._v("The combination of QML animations and passing variables from the vertex shader to the fragment shader demonstrates how QML and shaders can be used together to build complex, animated, effects.")]),t._v(" "),e("p",[t._v("The effect itself is used from the "),e("code",[t._v("curtaindemo.qml")]),t._v(" file shown below.")]),t._v(" "),e("div",{staticClass:"language-qml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-qml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" QtQuick\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Item")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("root")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("background"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("background"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height")]),t._v("\n\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("background")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("anchors.centerIn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("parent")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("source")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../assets/background.png'")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Text")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("anchors.centerIn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("parent")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("font.pixelSize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#efefef'")])]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("text")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Qt 6 Book'")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CurtainEffect")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("curtain")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("anchors.fill")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("parent")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MouseArea")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("anchors.fill")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("parent")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("onClicked")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token javascript-expression language-javascript"}},[t._v("curtain"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("open "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("curtain"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("open")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])])]),e("p",[t._v("The curtain is opened through a custom "),e("code",[t._v("open")]),t._v(" property on the curtain effect. We use a "),e("code",[t._v("MouseArea")]),t._v(" to trigger the opening and closing of the curtain when the user clicks or taps the area.")])])}),[],!1,null,null,null);a.default=n.exports}}]);