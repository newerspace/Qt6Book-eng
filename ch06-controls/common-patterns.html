<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Common Patterns | The Qt 6 Book</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A book about QML">
    
    <link rel="preload" href="/assets/css/0.styles.92ea4280.css" as="style"><link rel="preload" href="/assets/js/app.85861ea8.js" as="script"><link rel="preload" href="/assets/js/2.26c961b2.js" as="script"><link rel="preload" href="/assets/js/4.abbcf459.js" as="script"><link rel="prefetch" href="/assets/js/10.4395bd95.js"><link rel="prefetch" href="/assets/js/100.fa302cac.js"><link rel="prefetch" href="/assets/js/101.8d466e46.js"><link rel="prefetch" href="/assets/js/102.8e83581a.js"><link rel="prefetch" href="/assets/js/103.a82c478d.js"><link rel="prefetch" href="/assets/js/104.28055030.js"><link rel="prefetch" href="/assets/js/105.f0d68af0.js"><link rel="prefetch" href="/assets/js/106.bb60723a.js"><link rel="prefetch" href="/assets/js/107.7d45025a.js"><link rel="prefetch" href="/assets/js/108.0ed7a1f6.js"><link rel="prefetch" href="/assets/js/109.8946b3a4.js"><link rel="prefetch" href="/assets/js/11.b85f8031.js"><link rel="prefetch" href="/assets/js/110.11bd09cb.js"><link rel="prefetch" href="/assets/js/111.71acb487.js"><link rel="prefetch" href="/assets/js/112.fcf7de4a.js"><link rel="prefetch" href="/assets/js/113.2c5c65d1.js"><link rel="prefetch" href="/assets/js/114.d0eb4c04.js"><link rel="prefetch" href="/assets/js/115.760f698b.js"><link rel="prefetch" href="/assets/js/116.d3e7387b.js"><link rel="prefetch" href="/assets/js/117.1b1a7a03.js"><link rel="prefetch" href="/assets/js/118.e2bdad72.js"><link rel="prefetch" href="/assets/js/119.2e2f773b.js"><link rel="prefetch" href="/assets/js/12.83c6e34c.js"><link rel="prefetch" href="/assets/js/120.35cbc8cf.js"><link rel="prefetch" href="/assets/js/121.3671b29f.js"><link rel="prefetch" href="/assets/js/122.d462ba81.js"><link rel="prefetch" href="/assets/js/123.68da5c9a.js"><link rel="prefetch" href="/assets/js/124.0476127d.js"><link rel="prefetch" href="/assets/js/125.05527bc4.js"><link rel="prefetch" href="/assets/js/126.da700bd1.js"><link rel="prefetch" href="/assets/js/127.bba7328d.js"><link rel="prefetch" href="/assets/js/128.d06333ea.js"><link rel="prefetch" href="/assets/js/129.77aee385.js"><link rel="prefetch" href="/assets/js/13.b44307e8.js"><link rel="prefetch" href="/assets/js/130.b7e1846a.js"><link rel="prefetch" href="/assets/js/131.df7ded7d.js"><link rel="prefetch" href="/assets/js/132.eaa7412d.js"><link rel="prefetch" href="/assets/js/14.4daf5b31.js"><link rel="prefetch" href="/assets/js/15.8dfe57f5.js"><link rel="prefetch" href="/assets/js/16.ae047bb1.js"><link rel="prefetch" href="/assets/js/17.97cb1999.js"><link rel="prefetch" href="/assets/js/18.09368857.js"><link rel="prefetch" href="/assets/js/19.fd59ff42.js"><link rel="prefetch" href="/assets/js/20.6398077d.js"><link rel="prefetch" href="/assets/js/21.6a05a693.js"><link rel="prefetch" href="/assets/js/22.947a34c5.js"><link rel="prefetch" href="/assets/js/23.c793e061.js"><link rel="prefetch" href="/assets/js/24.d60c1260.js"><link rel="prefetch" href="/assets/js/25.f5cfb5dd.js"><link rel="prefetch" href="/assets/js/26.cdd6b54d.js"><link rel="prefetch" href="/assets/js/27.2e40b24c.js"><link rel="prefetch" href="/assets/js/28.a44092e5.js"><link rel="prefetch" href="/assets/js/29.0b58d719.js"><link rel="prefetch" href="/assets/js/3.15609819.js"><link rel="prefetch" href="/assets/js/30.13230c3d.js"><link rel="prefetch" href="/assets/js/31.02bb2aa2.js"><link rel="prefetch" href="/assets/js/32.900bae89.js"><link rel="prefetch" href="/assets/js/33.809d8313.js"><link rel="prefetch" href="/assets/js/34.b22e38fe.js"><link rel="prefetch" href="/assets/js/35.e0175be4.js"><link rel="prefetch" href="/assets/js/36.5df92709.js"><link rel="prefetch" href="/assets/js/37.2a36790b.js"><link rel="prefetch" href="/assets/js/38.7f2d9d42.js"><link rel="prefetch" href="/assets/js/39.2150f302.js"><link rel="prefetch" href="/assets/js/40.418ab892.js"><link rel="prefetch" href="/assets/js/41.8613e33c.js"><link rel="prefetch" href="/assets/js/42.fd4fbf33.js"><link rel="prefetch" href="/assets/js/43.a1d7c212.js"><link rel="prefetch" href="/assets/js/44.6668e30e.js"><link rel="prefetch" href="/assets/js/45.afe197bb.js"><link rel="prefetch" href="/assets/js/46.746cdebe.js"><link rel="prefetch" href="/assets/js/47.be6ca186.js"><link rel="prefetch" href="/assets/js/48.2f55198b.js"><link rel="prefetch" href="/assets/js/49.8cd15ae8.js"><link rel="prefetch" href="/assets/js/5.3e69f88a.js"><link rel="prefetch" href="/assets/js/50.dbabd303.js"><link rel="prefetch" href="/assets/js/51.d8b5ec87.js"><link rel="prefetch" href="/assets/js/52.12f7375a.js"><link rel="prefetch" href="/assets/js/53.eed8ca8f.js"><link rel="prefetch" href="/assets/js/54.c4d75775.js"><link rel="prefetch" href="/assets/js/55.b1783490.js"><link rel="prefetch" href="/assets/js/56.5901bd6c.js"><link rel="prefetch" href="/assets/js/57.95985066.js"><link rel="prefetch" href="/assets/js/58.d098dc2b.js"><link rel="prefetch" href="/assets/js/59.f534f5f5.js"><link rel="prefetch" href="/assets/js/6.599da621.js"><link rel="prefetch" href="/assets/js/60.0398dfb7.js"><link rel="prefetch" href="/assets/js/61.56fd70e0.js"><link rel="prefetch" href="/assets/js/62.b84b32ba.js"><link rel="prefetch" href="/assets/js/63.c521b8ab.js"><link rel="prefetch" href="/assets/js/64.2bf1e6e2.js"><link rel="prefetch" href="/assets/js/65.0a769062.js"><link rel="prefetch" href="/assets/js/66.a7c4130c.js"><link rel="prefetch" href="/assets/js/67.df2ba082.js"><link rel="prefetch" href="/assets/js/68.8a6223f5.js"><link rel="prefetch" href="/assets/js/69.216e47e2.js"><link rel="prefetch" href="/assets/js/7.4b835f9d.js"><link rel="prefetch" href="/assets/js/70.63f79832.js"><link rel="prefetch" href="/assets/js/71.f5bdf6b7.js"><link rel="prefetch" href="/assets/js/72.a8cf8fb8.js"><link rel="prefetch" href="/assets/js/73.3538ebde.js"><link rel="prefetch" href="/assets/js/74.63b1b93e.js"><link rel="prefetch" href="/assets/js/75.4d0beaa9.js"><link rel="prefetch" href="/assets/js/76.7d3c932a.js"><link rel="prefetch" href="/assets/js/77.90fe8238.js"><link rel="prefetch" href="/assets/js/78.94404738.js"><link rel="prefetch" href="/assets/js/79.ee568c52.js"><link rel="prefetch" href="/assets/js/8.e9c62eff.js"><link rel="prefetch" href="/assets/js/80.e200eac0.js"><link rel="prefetch" href="/assets/js/81.634d249d.js"><link rel="prefetch" href="/assets/js/82.484db6b7.js"><link rel="prefetch" href="/assets/js/83.6154fd3d.js"><link rel="prefetch" href="/assets/js/84.24b8d4cb.js"><link rel="prefetch" href="/assets/js/85.6c107d50.js"><link rel="prefetch" href="/assets/js/86.f87351fc.js"><link rel="prefetch" href="/assets/js/87.a87dddc8.js"><link rel="prefetch" href="/assets/js/88.155ec451.js"><link rel="prefetch" href="/assets/js/89.64bcf5e9.js"><link rel="prefetch" href="/assets/js/9.fc273458.js"><link rel="prefetch" href="/assets/js/90.19f96ff1.js"><link rel="prefetch" href="/assets/js/91.6124d2ee.js"><link rel="prefetch" href="/assets/js/92.e625e357.js"><link rel="prefetch" href="/assets/js/93.a66de41e.js"><link rel="prefetch" href="/assets/js/94.56f157b5.js"><link rel="prefetch" href="/assets/js/95.9677e971.js"><link rel="prefetch" href="/assets/js/96.c4114f1e.js"><link rel="prefetch" href="/assets/js/97.d64a40ed.js"><link rel="prefetch" href="/assets/js/98.c46e9482.js"><link rel="prefetch" href="/assets/js/99.c23f6710.js">
    <link rel="stylesheet" href="/assets/css/0.styles.92ea4280.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">The Qt 6 Book</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/qmlbook/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/qmlbook/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/preface/preface" class="sidebar-heading clickable"><span>Preface</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/preface/preface.html" class="sidebar-link">Welcome!</a></li><li><a href="/preface/acknowledgements.html" class="sidebar-link">Acknowledgements</a></li><li><a href="/preface/authors.html" class="sidebar-link">Authors</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch01-meetqt/meet-qt" class="sidebar-heading clickable"><span>Meet Qt</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch01-meetqt/meet-qt.html" class="sidebar-link">Qt and Qt Quick</a></li><li><a href="/ch01-meetqt/blocks.html" class="sidebar-link">Qt Building Blocks</a></li><li><a href="/ch01-meetqt/intro.html" class="sidebar-link">Qt 6 Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch02-start/quick-start" class="sidebar-heading clickable"><span>Getting Started</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch02-start/quick-start.html" class="sidebar-link">Quick Start</a></li><li><a href="/ch02-start/install.html" class="sidebar-link">Installing Qt 6 SDK</a></li><li><a href="/ch02-start/hello-world.html" class="sidebar-link">Hello World</a></li><li><a href="/ch02-start/app-types.html" class="sidebar-link">Application Types</a></li><li><a href="/ch02-start/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch03-qtcreator/qt-creator" class="sidebar-heading clickable"><span>Qt Creator IDE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch03-qtcreator/qt-creator.html" class="sidebar-link">Qt Creator IDE</a></li><li><a href="/ch03-qtcreator/user-interface.html" class="sidebar-link">The User Interface</a></li><li><a href="/ch03-qtcreator/kit-registry.html" class="sidebar-link">Registering your Qt Kit</a></li><li><a href="/ch03-qtcreator/projects.html" class="sidebar-link">Managing Projects</a></li><li><a href="/ch03-qtcreator/editor.html" class="sidebar-link">Using the Editor</a></li><li><a href="/ch03-qtcreator/locator.html" class="sidebar-link">Locator</a></li><li><a href="/ch03-qtcreator/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/ch03-qtcreator/shortcuts.html" class="sidebar-link">Shortcuts</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch04-qmlstart/quick-start" class="sidebar-heading clickable"><span>Quick Starter</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch04-qmlstart/quick-start.html" class="sidebar-link">Quick Starter</a></li><li><a href="/ch04-qmlstart/qml-syntax.html" class="sidebar-link">QML Syntax</a></li><li><a href="/ch04-qmlstart/core-elements.html" class="sidebar-link">Core Elements</a></li><li><a href="/ch04-qmlstart/components.html" class="sidebar-link">Components</a></li><li><a href="/ch04-qmlstart/transformations.html" class="sidebar-link">Simple Transformations</a></li><li><a href="/ch04-qmlstart/positioning.html" class="sidebar-link">Positioning Elements</a></li><li><a href="/ch04-qmlstart/layout.html" class="sidebar-link">Layout Items</a></li><li><a href="/ch04-qmlstart/input.html" class="sidebar-link">Input Elements</a></li><li><a href="/ch04-qmlstart/advanced.html" class="sidebar-link">Advanced Techniques</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch05-fluid/fluid-elements" class="sidebar-heading clickable"><span>Fluid Elements</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch05-fluid/fluid-elements.html" class="sidebar-link">Fluid Elements</a></li><li><a href="/ch05-fluid/animations.html" class="sidebar-link">Animations</a></li><li><a href="/ch05-fluid/states-transitions.html" class="sidebar-link">States and Transitions</a></li><li><a href="/ch05-fluid/advanced.html" class="sidebar-link">Advanced Techniques</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch06-controls/controls2" class="sidebar-heading clickable open"><span>QtQuick Controls</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch06-controls/controls2.html" class="sidebar-link">UI Controls</a></li><li><a href="/ch06-controls/introduction.html" class="sidebar-link">Introduction to Controls</a></li><li><a href="/ch06-controls/image-viewer.html" class="sidebar-link">An Image Viewer</a></li><li><a href="/ch06-controls/common-patterns.html" aria-current="page" class="active sidebar-link">Common Patterns</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ch06-controls/common-patterns.html#nested-screens" class="sidebar-link">Nested Screens</a></li><li class="sidebar-sub-header"><a href="/ch06-controls/common-patterns.html#side-by-side-screens" class="sidebar-link">Side by Side Screens</a></li><li class="sidebar-sub-header"><a href="/ch06-controls/common-patterns.html#document-windows" class="sidebar-link">Document Windows</a></li></ul></li><li><a href="/ch06-controls/imagine-style.html" class="sidebar-link">The Imagine Style</a></li><li><a href="/ch06-controls/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch07-modelview/model-view" class="sidebar-heading clickable"><span>Model View</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch07-modelview/model-view.html" class="sidebar-link">Model-View-Delegate</a></li><li><a href="/ch07-modelview/concept.html" class="sidebar-link">Concept</a></li><li><a href="/ch07-modelview/basic-models.html" class="sidebar-link">Basic Models</a></li><li><a href="/ch07-modelview/dynamic-views.html" class="sidebar-link">Dynamic Views</a></li><li><a href="/ch07-modelview/delegate.html" class="sidebar-link">Delegate</a></li><li><a href="/ch07-modelview/advanced.html" class="sidebar-link">Advanced Techniques</a></li><li><a href="/ch07-modelview/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch08-canvas/canvas-element" class="sidebar-heading clickable"><span>Canvas</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch08-canvas/canvas-element.html" class="sidebar-link">Canvas Element</a></li><li><a href="/ch08-canvas/convenience-api.html" class="sidebar-link">Convenience API</a></li><li><a href="/ch08-canvas/gradients.html" class="sidebar-link">Gradients</a></li><li><a href="/ch08-canvas/shadows.html" class="sidebar-link">Shadows</a></li><li><a href="/ch08-canvas/images.html" class="sidebar-link">Images</a></li><li><a href="/ch08-canvas/transformation.html" class="sidebar-link">Transformation</a></li><li><a href="/ch08-canvas/composition-modes.html" class="sidebar-link">Composition Modes</a></li><li><a href="/ch08-canvas/pixel-buffer.html" class="sidebar-link">Pixel Buffers</a></li><li><a href="/ch08-canvas/canvas-paint.html" class="sidebar-link">Canvas Paint</a></li><li><a href="/ch08-canvas/port-from-html.html" class="sidebar-link">Porting from HTML5 Canvas</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch09-shapes/shapes" class="sidebar-heading clickable"><span>Shapes</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch09-shapes/shapes.html" class="sidebar-link">Shapes</a></li><li><a href="/ch09-shapes/basics.html" class="sidebar-link">A Basic Shape</a></li><li><a href="/ch09-shapes/paths.html" class="sidebar-link">Building Paths</a></li><li><a href="/ch09-shapes/gradients.html" class="sidebar-link">Filling Shapes</a></li><li><a href="/ch09-shapes/animations.html" class="sidebar-link">Animating Shapes</a></li><li><a href="/ch09-shapes/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch10-effects/effects" class="sidebar-heading clickable"><span>Effects</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch10-effects/effects.html" class="sidebar-link">Effects in QML</a></li><li><a href="/ch10-effects/particles.html" class="sidebar-link">Particle Concept</a></li><li><a href="/ch10-effects/simple-simulation.html" class="sidebar-link">Simple Simulation</a></li><li><a href="/ch10-effects/particle-parameters.html" class="sidebar-link">Particle Parameters</a></li><li><a href="/ch10-effects/directed-particles.html" class="sidebar-link">Directed Particles</a></li><li><a href="/ch10-effects/affecting-particles.html" class="sidebar-link">Affecting Particles</a></li><li><a href="/ch10-effects/particle-groups.html" class="sidebar-link">Particle Groups</a></li><li><a href="/ch10-effects/particle-painters.html" class="sidebar-link">Particle Painters</a></li><li><a href="/ch10-effects/opengl-shaders.html" class="sidebar-link">Graphics Shaders</a></li><li><a href="/ch10-effects/shader-elements.html" class="sidebar-link">Shader Elements</a></li><li><a href="/ch10-effects/fragment-shaders.html" class="sidebar-link">Fragment Shaders</a></li><li><a href="/ch10-effects/wave-effect.html" class="sidebar-link">Wave Effect</a></li><li><a href="/ch10-effects/vertex-shader.html" class="sidebar-link">Vertex Shader</a></li><li><a href="/ch10-effects/curtain-effect.html" class="sidebar-link">Curtain Effect</a></li><li><a href="/ch10-effects/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch11-multimedia/multimedia" class="sidebar-heading clickable"><span>Multimedia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch11-multimedia/multimedia.html" class="sidebar-link">Multimedia</a></li><li><a href="/ch11-multimedia/playing-media.html" class="sidebar-link">Playing Media</a></li><li><a href="/ch11-multimedia/sound-effects.html" class="sidebar-link">Sound Effects</a></li><li><a href="/ch11-multimedia/video-streams.html" class="sidebar-link">Video Streams</a></li><li><a href="/ch11-multimedia/capturing-images.html" class="sidebar-link">Capturing Images</a></li><li><a href="/ch11-multimedia/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch12-networking/networking" class="sidebar-heading clickable"><span>Networking</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch12-networking/networking.html" class="sidebar-link">Networking</a></li><li><a href="/ch12-networking/serve-qml.html" class="sidebar-link">Serving UI via HTTP</a></li><li><a href="/ch12-networking/templates.html" class="sidebar-link">Templates</a></li><li><a href="/ch12-networking/http-requests.html" class="sidebar-link">HTTP Requests</a></li><li><a href="/ch12-networking/local-files.html" class="sidebar-link">Local files</a></li><li><a href="/ch12-networking/rest-api.html" class="sidebar-link">REST API</a></li><li><a href="/ch12-networking/authentication.html" class="sidebar-link">Authentication using OAuth</a></li><li><a href="/ch12-networking/web-sockets.html" class="sidebar-link">Web Sockets</a></li><li><a href="/ch12-networking/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch13-storage/storage" class="sidebar-heading clickable"><span>Storage</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch13-storage/storage.html" class="sidebar-link">Storage</a></li><li><a href="/ch13-storage/settings.html" class="sidebar-link">Settings</a></li><li><a href="/ch13-storage/local-storage.html" class="sidebar-link">Local Storage - SQL</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch14-dynamicqml/dynamic-qml" class="sidebar-heading clickable"><span>Dynamic QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch14-dynamicqml/dynamic-qml.html" class="sidebar-link">Dynamic QML</a></li><li><a href="/ch14-dynamicqml/loading-components.html" class="sidebar-link">Loading Components Dynamically</a></li><li><a href="/ch14-dynamicqml/dynamic-objects.html" class="sidebar-link">Creating and Destroying Objects</a></li><li><a href="/ch14-dynamicqml/tracking-objects.html" class="sidebar-link">Tracking Dynamic Objects</a></li><li><a href="/ch14-dynamicqml/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch15-javascript/javascript" class="sidebar-heading clickable"><span>Javascript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch15-javascript/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/ch15-javascript/html-qml.html" class="sidebar-link">Browser/HTML vs Qt Quick/QML</a></li><li><a href="/ch15-javascript/js-language.html" class="sidebar-link">JS Language</a></li><li><a href="/ch15-javascript/js-objects.html" class="sidebar-link">JS Objects</a></li><li><a href="/ch15-javascript/js-console.html" class="sidebar-link">Creating a JS Console</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch16-qtcpp/qtcpp" class="sidebar-heading clickable"><span>Qt C++</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch16-qtcpp/qtcpp.html" class="sidebar-link">Qt and C++</a></li><li><a href="/ch16-qtcpp/boilerplate.html" class="sidebar-link">A Boilerplate Application</a></li><li><a href="/ch16-qtcpp/qobject.html" class="sidebar-link">The QObject</a></li><li><a href="/ch16-qtcpp/build-system.html" class="sidebar-link">Build Systems</a></li><li><a href="/ch16-qtcpp/common-classes.html" class="sidebar-link">Common Qt Classes</a></li><li><a href="/ch16-qtcpp/cpp-models.html" class="sidebar-link">Models in C++</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch17-extensions/extending-qml" class="sidebar-heading clickable"><span>Extending QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch17-extensions/extending-qml.html" class="sidebar-link">Extending QML with C++</a></li><li><a href="/ch17-extensions/qml-runtime.html" class="sidebar-link">Understanding the QML Run-time</a></li><li><a href="/ch17-extensions/plugin-content.html" class="sidebar-link">Plugin Content</a></li><li><a href="/ch17-extensions/create-plugin.html" class="sidebar-link">Creating the plugin</a></li><li><a href="/ch17-extensions/fileio-demo.html" class="sidebar-link">FileIO Implementation</a></li><li><a href="/ch17-extensions/using-fileio.html" class="sidebar-link">Using FileIO</a></li><li><a href="/ch17-extensions/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/ch18-python/qt-python" class="sidebar-heading clickable"><span>Qt for Python</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ch18-python/qt-python.html" class="sidebar-link">Qt for Python</a></li><li><a href="/ch18-python/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/ch18-python/installing.html" class="sidebar-link">Installing</a></li><li><a href="/ch18-python/build-app.html" class="sidebar-link">Building an Application</a></li><li><a href="/ch18-python/limitations.html" class="sidebar-link">Limitations</a></li><li><a href="/ch18-python/summary.html" class="sidebar-link">Summary</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="common-patterns"><a href="#common-patterns" class="header-anchor">#</a> Common Patterns</h1> <p>There a number of common user interface patterns that can be implemented using Qt Quick Controls. In this section, we try to demonstrate how some of the more common ones can be built.</p> <h2 id="nested-screens"><a href="#nested-screens" class="header-anchor">#</a> Nested Screens</h2> <p>For this example we will create a tree of pages that can be reached from the previous level of screens. The structure is pictured below.</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>The key component in this type of user interface is the <code>StackView</code>. It allows us to place pages on a stack which then can be popped when the user wants to go back. In the example here, we will show how this can be implemented.</p> <p>The initial home screen of the application is shown in the figure below.</p> <p><img src="/assets/img/interface-stack-home.25663198.png" alt=""></p> <p>The application starts in <code>main.qml</code>, where we have an <code>ApplicationWindow</code> containing a <code>ToolBar</code>, a <code>Drawer</code>, a <code>StackView</code> and a home page element, <code>Home</code>. We will look into each of the components below.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Controls

<span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token property">header</span><span class="token punctuation">:</span> <span class="token class-name">ToolBar</span> <span class="token punctuation">{</span>

        <span class="token comment">// ...</span>

    <span class="token punctuation">}</span>

    <span class="token class-name">Drawer</span> <span class="token punctuation">{</span>

        <span class="token comment">// ...</span>

    <span class="token punctuation">}</span>

    <span class="token class-name">StackView</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">stackView</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">initialItem</span><span class="token punctuation">:</span> <span class="token class-name">Home</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The home page, <code>Home.qml</code> consists of a <code>Page</code>, which is n control element that support headers and footers. In this example we simply center a <code>Label</code> with the text <em>Home Screen</em> on the page. This works because the contents of a <code>StackView</code> automatically fill the stack view, so the page will have the right size for this to work.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Controls

<span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Home&quot;</span><span class="token punctuation">)</span></span>

    <span class="token class-name">Label</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Home Screen&quot;</span><span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Returning back to <code>main.qml</code>, we now look at the drawer part. This is where the navigation to the pages begin. The active parts of the user interface are the <code>ÌtemDelegate</code> items. In the <code>onClicked</code> handler, the next page is pushed onto the <code>stackView</code>.</p> <p>As shown in the code below, it possible to push either a <code>Component</code> or a reference to a specific QML file. Either way results in a new instance being created and pushed onto the stack.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token class-name">Drawer</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">drawer</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">window<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.66</span></span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">window<span class="token punctuation">.</span>height</span>

        <span class="token class-name">Column</span> <span class="token punctuation">{</span>
            <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

            <span class="token class-name">ItemDelegate</span> <span class="token punctuation">{</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Profile&quot;</span><span class="token punctuation">)</span></span>
                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>width</span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    stackView<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;Profile.qml&quot;</span><span class="token punctuation">)</span>
                    drawer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">ItemDelegate</span> <span class="token punctuation">{</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;About&quot;</span><span class="token punctuation">)</span></span>
                <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>width</span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    stackView<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>aboutPage<span class="token punctuation">)</span>
                    drawer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

    <span class="token class-name">Component</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">aboutPage</span>

        <span class="token class-name">About</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>The other half of the puzzle is the toolbar. The idea is that a back button is shown when the <code>stackView</code> contains more than one page, otherwise a menu button is shown. The logic for this can be seen in the <code>text</code> property where the <code>&quot;\\u...&quot;</code> strings represents the unicode symbols that we need.</p> <p>In the <code>onClicked</code> handler, we can see that when there is more than one page on the stack, the stack is popped, i.e. the top page is removed. If the stack contains only one item, i.e. the home screen, the drawer is opened.</p> <p>Below the <code>ToolBar</code>, there is a <code>Label</code>. This element shows the title of each page in the center of the header.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token property">header</span><span class="token punctuation">:</span> <span class="token class-name">ToolBar</span> <span class="token punctuation">{</span>
        <span class="token property">contentHeight</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">toolButton<span class="token punctuation">.</span>implicitHeight</span>

        <span class="token class-name">ToolButton</span> <span class="token punctuation">{</span>
            <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">toolButton</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">stackView<span class="token punctuation">.</span>depth <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot;\u25C0&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;\u2630&quot;</span></span>
            <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Qt<span class="token punctuation">.</span>application<span class="token punctuation">.</span>font<span class="token punctuation">.</span>pixelSize <span class="token operator">*</span> <span class="token number">1.6</span></span>
            <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>stackView<span class="token punctuation">.</span>depth <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    stackView<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    drawer<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span></span>
        <span class="token punctuation">}</span>

        <span class="token class-name">Label</span> <span class="token punctuation">{</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">stackView<span class="token punctuation">.</span>currentItem<span class="token punctuation">.</span>title</span>
            <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Now we’ve seen how to reach the <em>About</em> and <em>Profile</em> pages, but we also want to make it possible to reach the <em>Edit Profile</em> page from the <em>Profile</em> page. This is done via the <code>Button</code> on the <em>Profile</em> page. When the button is clicked, the <code>EditProfile.qml</code> file is pushed onto the <code>StackView</code>.</p> <p><img src="/assets/img/interface-stack-profile.dd9df08a.png" alt=""></p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Controls

<span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Profile&quot;</span><span class="token punctuation">)</span></span>

    <span class="token class-name">Column</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>
        <span class="token class-name">Label</span> <span class="token punctuation">{</span>
            <span class="token property">anchors.horizontalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>horizontalCenter</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Profile&quot;</span><span class="token punctuation">)</span></span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Button</span> <span class="token punctuation">{</span>
            <span class="token property">anchors.horizontalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>horizontalCenter</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Edit&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
            <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">stackView<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;EditProfile.qml&quot;</span><span class="token punctuation">)</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Controls

<span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Profile&quot;</span><span class="token punctuation">)</span></span>

    <span class="token class-name">Column</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>
        <span class="token class-name">Label</span> <span class="token punctuation">{</span>
            <span class="token property">anchors.horizontalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>horizontalCenter</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Profile&quot;</span><span class="token punctuation">)</span></span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Button</span> <span class="token punctuation">{</span>
            <span class="token property">anchors.horizontalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>horizontalCenter</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Edit&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
            <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">stackView<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;EditProfile.qml&quot;</span><span class="token punctuation">)</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="side-by-side-screens"><a href="#side-by-side-screens" class="header-anchor">#</a> Side by Side Screens</h2> <p>For this example we create a user interface consisting of three pages that the user can shift through. The pages are shown in the diagram below. This could be the interface of a health tracking app, tracking the current state, the user’s statistics and the overall statistics.</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>The illustration below shows how the <em>Current</em> page looks in the application. The main part of the screen is managed by a <code>SwipeView</code>, which is what enables the side by side screen interaction pattern. The title and text shown in the figure come from the page inside the <code>SwipeView</code>, while the <code>PageIndicator</code> (the three dots at the bottom) comes from <code>main.qml</code> and sits under the <code>SwipeView</code>. The page indicator shows the user which page is currently active, which helps when navigating.</p> <p><img src="/assets/img/interface-side-by-side-current.cb1d758f.png" alt=""></p> <p>Diving into <code>main.qml</code>, it consists of an <code>ApplicationWindow</code> with the <code>SwipeView</code>.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Controls

<span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>
    <span class="token property">visible</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">640</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>

    <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Side-by-side&quot;</span><span class="token punctuation">)</span></span>

    <span class="token class-name">SwipeView</span> <span class="token punctuation">{</span>

        <span class="token comment">// ...</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Inside the <code>SwipeView</code> each of the child pages are instantiated in the order they are to appear. They are <code>Current</code>, <code>UserStats</code> and <code>TotalStats</code>.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token class-name">SwipeView</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">swipeView</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>

        <span class="token class-name">Current</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">UserStats</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">TotalStats</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Finally, the <code>count</code> and <code>currentIndex</code> properties of the <code>SwipeView</code> are bound to the <code>PageIndicator</code> element. This completes the structure around the pages.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token class-name">SwipeView</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">swipeView</span>

        <span class="token comment">// ...</span>

    <span class="token punctuation">}</span>

    <span class="token class-name">PageIndicator</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.bottom</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>bottom</span>
        <span class="token property">anchors.horizontalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>horizontalCenter</span>

        <span class="token property">currentIndex</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">swipeView<span class="token punctuation">.</span>currentIndex</span>
        <span class="token property">count</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">swipeView<span class="token punctuation">.</span>count</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Each page consists of a <code>Page</code> with a <code>header</code> consisting of a <code>Label</code> and some contents. For the <em>Current</em> and <em>User Stats</em> pages the contents consist of a simple <code>Label</code>, but for the <em>Community Stats</em> page, a back button is included.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Controls

<span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token property">header</span><span class="token punctuation">:</span> <span class="token class-name">Label</span> <span class="token punctuation">{</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Community Stats&quot;</span><span class="token punctuation">)</span></span>
        <span class="token property">font.pixelSize</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Qt<span class="token punctuation">.</span>application<span class="token punctuation">.</span>font<span class="token punctuation">.</span>pixelSize <span class="token operator">*</span> <span class="token number">2</span></span>
        <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/interface-side-by-side-community.2660e08d.png" alt=""></p> <p>The back button explicitly calls the <code>setCurrentIndex</code> of the <code>SwipeView</code> to set the index to zero, returning the user directly to the <em>Current</em> page. During each transition between pages the <code>SwipeView</code> provides a transition, so even when explicitly changing the index the user is given a sense of direction.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>When navigating in a <code>SwipeView</code> programatically it is important not to set the <code>currentIndex</code> by assignment in JavaScript. This is because doing so will break any QML bindings it overrides. Instead use the methods <code>setCurrentIndex</code>, <code>incrementCurrentIndex</code>, and <code>decrementCurrentIndex</code>. This preserves the QML bindings.</p></div> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Page</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token class-name">Column</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.centerIn</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>
        <span class="token class-name">Label</span> <span class="token punctuation">{</span>
            <span class="token property">anchors.horizontalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>horizontalCenter</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Community statistics&quot;</span><span class="token punctuation">)</span></span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Button</span> <span class="token punctuation">{</span>
            <span class="token property">anchors.horizontalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>horizontalCenter</span>
            <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Back&quot;</span><span class="token punctuation">)</span></span>
            <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">swipeView<span class="token punctuation">.</span><span class="token function">setCurrentIndex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="document-windows"><a href="#document-windows" class="header-anchor">#</a> Document Windows</h2> <p>This example shows how to implement a desktop-oriented, document-centric user interface. The idea is to have one window per document. When opening a new document, a new window is opened. To the user, each window is a self contained world with a single document.</p> <p><img src="assets/interface-document-window.png" alt="Two document windows and the close warning dialog."></p> <p>The code starts from an <code>ApplicationWindow</code> with a <em>File</em> menu with the standard operations: <em>New</em>, <em>Open</em>, <em>Save</em> and <em>Save As</em>. We put this in the <code>DocumentWindow.qml</code>.</p> <p>We import <code>Qt.labs.platform</code> for native dialogs, and have made the subsequent changes to the project file and <code>main.cpp</code> as described in the section on native dialogs above.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Controls
<span class="token keyword">import</span> Qt.labs.platform <span class="token keyword">as</span> NativeDialogs

<span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>

    <span class="token comment">// ...</span>

    <span class="token property">menuBar</span><span class="token punctuation">:</span> <span class="token class-name">MenuBar</span> <span class="token punctuation">{</span>
        <span class="token class-name">Menu</span> <span class="token punctuation">{</span>
            <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;File&quot;</span><span class="token punctuation">)</span></span>
            <span class="token class-name">MenuItem</span> <span class="token punctuation">{</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;New&quot;</span><span class="token punctuation">)</span></span>
                <span class="token property">icon.name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;document-new&quot;</span></span>
                <span class="token property">onTriggered</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span><span class="token function">newDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">MenuSeparator</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token class-name">MenuItem</span> <span class="token punctuation">{</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;Open&quot;</span><span class="token punctuation">)</span></span>
                <span class="token property">icon.name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;document-open&quot;</span></span>
                <span class="token property">onTriggered</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">openDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">MenuItem</span> <span class="token punctuation">{</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;Save&quot;</span><span class="token punctuation">)</span></span>
                <span class="token property">icon.name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;document-save&quot;</span></span>
                <span class="token property">onTriggered</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">saveDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">MenuItem</span> <span class="token punctuation">{</span>
                <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Save &amp;As...&quot;</span><span class="token punctuation">)</span></span>
                <span class="token property">icon.name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;document-save-as&quot;</span></span>
                <span class="token property">onTriggered</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">saveAsDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>To bootstrap the program, we create the first <code>DocumentWindow</code> instance from <code>main.qml</code>, which is the entry point of the application.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick

<span class="token class-name">DocumentWindow</span> <span class="token punctuation">{</span>
    <span class="token property">visible</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick

<span class="token class-name">DocumentWindow</span> <span class="token punctuation">{</span>
    <span class="token property">visible</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
<span class="token punctuation">}</span>
</code></pre></div><p>In the example at the beginning of this chapter, each <code>MenuItem</code> calls a corresponding function when triggered. Let’s start with the <em>New</em> item, which calls the <code>newDocument</code> function.</p> <p>The function, in turn, relies on the <code>createNewDocument</code> function, which dynamically creates a new element instance from the <code>DocumentWindow.qml</code> file, i.e. a new <code>DocumentWindow</code> instance. The reason for breaking out this part of the new function is that we use it when opening documents as well.</p> <p>Notice that we do not provide a parent element when creating the new instance using <code>createObject</code>. This way, we create new top level elements. If we would have provided the current document as parent to the next, the destruction of the parent window would lead to the destruction of the child windows.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token javascript-function language-javascript"><span class="token keyword">function</span> <span class="token function">createNewDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">var</span> component <span class="token operator">=</span> Qt<span class="token punctuation">.</span><span class="token function">createComponent</span><span class="token punctuation">(</span><span class="token string">&quot;DocumentWindow.qml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> window <span class="token operator">=</span> component<span class="token punctuation">.</span><span class="token function">createObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> window<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span>

    <span class="token javascript-function language-javascript"><span class="token keyword">function</span> <span class="token function">newDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">var</span> window <span class="token operator">=</span> <span class="token function">createNewDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Looking at the <em>Open</em> item, we see that it calls the <code>openDocument</code> function. The function simply opens the <code>openDialog</code>, which lets the user pick a file to open. As we don’t have a document format, file extension or anything like that, the dialog has most properties set to their default value. In a real world application, this would be better configured.</p> <p>In the <code>onAccepted</code> handler a new document window is instantiated using the <code>createNewDocument</code> method, and a file name is set before the window is shown. In this case, no real loading takes place.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>We imported the <code>Qt.labs.platform</code> module as <code>NativeDialogs</code>. This is because it provides a <code>MenuItem</code> that clashes with the <code>MenuItem</code> provided by the <code>QtQuick.Controls</code> module.</p></div> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token javascript-function language-javascript"><span class="token keyword">function</span> <span class="token function">openDocument</span><span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        openDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span>

    NativeDialogs.FileDialog <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">openDialog</span>
        <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;Open&quot;</span></span>
        <span class="token property">folder</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">NativeDialogs<span class="token punctuation">.</span>StandardPaths<span class="token punctuation">.</span><span class="token function">writableLocation</span><span class="token punctuation">(</span>NativeDialogs<span class="token punctuation">.</span>StandardPaths<span class="token punctuation">.</span>DocumentsLocation<span class="token punctuation">)</span></span>
        <span class="token property">onAccepted</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
            <span class="token keyword">var</span> window <span class="token operator">=</span> root<span class="token punctuation">.</span><span class="token function">createNewDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span>fileName <span class="token operator">=</span> openDialog<span class="token punctuation">.</span>file<span class="token punctuation">;</span>
            window<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>The file name belongs to a pair of properties describing the document: <code>fileName</code> and <code>isDirty</code>. The <code>fileName</code> holds the file name of the document name and <code>isDirty</code> is set when the document has unsaved changes. This is used by the save and save as logic, which is shown below.</p> <p>When trying to save a document without a name, the <code>saveAsDocument</code> is invoked. This results in a round-trip over the <code>saveAsDialog</code>, which sets a file name and then tries to save again in the <code>onAccepted</code> handler.</p> <p>Notice that the <code>saveAsDocument</code> and <code>saveDocument</code> functions correspond to the <em>Save As</em> and <em>Save</em> menu items.</p> <p>After having saved the document, in the <code>saveDocument</code> function, the <code>tryingToClose</code> property is checked. This flag is set if the save is the result of the user wanting to save a document when the window is being closed. As a consequence, the window is closed after the save operation has been performed. Again, no actual saving takes place in this example.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token property"><span class="token keyword">property</span> <span class="token property">bool</span> <span class="token property">isDirty</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span>        <span class="token comment">// Has the document got unsaved changes?</span></span>
    property string fileName           <span class="token comment">// The filename of the document</span>
    <span class="token property"><span class="token keyword">property</span> <span class="token property">bool</span> <span class="token property">tryingToClose</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">false</span> <span class="token comment">// Is the window trying to close (but needs a file name first)?</span></span>

    <span class="token comment">// ...</span>

    <span class="token javascript-function language-javascript"><span class="token keyword">function</span> <span class="token function">saveAsDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        saveAsDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span>

    <span class="token javascript-function language-javascript"><span class="token keyword">function</span> <span class="token function">saveDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fileName<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            root<span class="token punctuation">.</span><span class="token function">saveAsDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Save document here</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Saving document&quot;</span><span class="token punctuation">)</span>
            root<span class="token punctuation">.</span>isDirty <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>tryingToClose<span class="token punctuation">)</span>
                root<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></span>

    NativeDialogs.FileDialog <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">saveAsDialog</span>
        <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;Save As&quot;</span></span>
        <span class="token property">folder</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">NativeDialogs<span class="token punctuation">.</span>StandardPaths<span class="token punctuation">.</span><span class="token function">writableLocation</span><span class="token punctuation">(</span>NativeDialogs<span class="token punctuation">.</span>StandardPaths<span class="token punctuation">.</span>DocumentsLocation<span class="token punctuation">)</span></span>
        <span class="token property">onAccepted</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
            root<span class="token punctuation">.</span>fileName <span class="token operator">=</span> saveAsDialog<span class="token punctuation">.</span>file
            <span class="token function">saveDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></span>
        <span class="token property">onRejected</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
            root<span class="token punctuation">.</span>tryingToClose <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>This leads us to the closing of windows. When a window is being closed, the <code>onClosing</code> handler is invoked. Here, the code can choose not to accept the request to close. If the document has unsaved changes, we open the <code>closeWarningDialog</code> and reject the request to close.</p> <p>The <code>closeWarningDialog</code> asks the user if the changes should be saved, but the user also has the option to cancel the close operation. The cancelling, handled in <code>onRejected</code>, is the easiest case, as we rejected the closing when the dialog was opened.</p> <p>When the user does not want to save the changes, i.e. in <code>onNoClicked</code>, the <code>isDirty</code> flag is set to <code>false</code> and the window is closed again. This time around, the <code>onClosing</code> will accept the closure, as <code>isDirty</code> is false.</p> <p>Finally, when the user wants to save the changes, we set the <code>tryingToClose</code> flag to true before calling save. This leads us to the save/save as logic.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token property">onClosing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>isDirty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            closeWarningDialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            close<span class="token punctuation">.</span>accepted <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></span>

    NativeDialogs.MessageDialog <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">closeWarningDialog</span>
        <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;Closing document&quot;</span></span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;You have unsaved changed. Do you want to save your changes?&quot;</span></span>
        <span class="token property">buttons</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">NativeDialogs<span class="token punctuation">.</span>MessageDialog<span class="token punctuation">.</span>Yes <span class="token operator">|</span> NativeDialogs<span class="token punctuation">.</span>MessageDialog<span class="token punctuation">.</span>No <span class="token operator">|</span> NativeDialogs<span class="token punctuation">.</span>MessageDialog<span class="token punctuation">.</span>Cancel</span>
        <span class="token property">onYesClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
            <span class="token comment">// Attempt to save the document</span>
            root<span class="token punctuation">.</span>tryingToClose <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            root<span class="token punctuation">.</span><span class="token function">saveDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></span>
        <span class="token property">onNoClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
            <span class="token comment">// Close the window</span>
            root<span class="token punctuation">.</span>isDirty <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            root<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span></span>
        <span class="token property">onRejected</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
            <span class="token comment">// Do nothing, aborting the closing of the window</span>
        <span class="token punctuation">}</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The entire flow for the close and save/save as logic is shown below. The system is entered at the <em>close</em> state, while the <em>closed</em> and <em>not closed</em> states are outcomes.</p> <p>This looks complicated compared to implementing this using <code>Qt Widgets</code> and C++. This is because the dialogs are not blocking to QML. This means that we cannot wait for the outcome of a dialog in a <code>switch</code> statement. Instead we need to remember the state and continue the operation in the respective <code>onYesClicked</code>, <code>onNoClicked</code>, <code>onAccepted</code>, and <code>onRejected</code> handlers.</p> <p><img src="/assets/img/dialog-state-machine.aae340b3.png" alt=""></p> <p>The final piece of the puzzle is the window title. It is composed from the <code>fileName</code> and <code>isDirty</code> properties.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ApplicationWindow</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">(</span>fileName<span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">0</span><span class="token operator">?</span><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;Document&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span>fileName<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>isDirty<span class="token operator">?</span><span class="token string">&quot;*&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span></span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p>This example is far from complete. For instance, the document is never loaded or saved. Another missing piece is handling the case of closing all the windows in one go, i.e. exiting the application. For this function, a singleton maintaining a list of all current <code>DocumentWindow</code> instances is needed. However, this would only be another way to trigger the closing of a window, so the logic flow shown here is still valid.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/qmlbook/qt6book/edit/main/docs/ch06-controls/common-patterns.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/6/2021, 4:32:19 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ch06-controls/image-viewer.html" class="prev">
        An Image Viewer
      </a></span> <span class="next"><a href="/ch06-controls/imagine-style.html">
        The Imagine Style
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.85861ea8.js" defer></script><script src="/assets/js/2.26c961b2.js" defer></script><script src="/assets/js/4.abbcf459.js" defer></script>
  </body>
</html>
